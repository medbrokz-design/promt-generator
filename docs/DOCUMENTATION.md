# üìö NanoBanana Pro v6.0 ‚Äî –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#1-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
2. [PromptEngine ‚Äî –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã](#2-promptengine--—è–¥—Ä–æ-—Å–∏—Å—Ç–µ–º—ã)
3. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤](#3-–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö-–ø—Ä–æ–º–ø—Ç–æ–≤)
4. [AI Semantic Analyzer](#4-ai-semantic-analyzer)
5. [–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å](#5-–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-–º–æ–¥—É–ª—å)
6. [–ö–æ–Ω–≤–µ—Ä—Å–∏–æ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](#6-–∫–æ–Ω–≤–µ—Ä—Å–∏–æ–Ω–Ω–∞—è-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
7. [–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª–∏](#7-–±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª–∏)
8. [–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–∂–∏–º–∞–º](#8-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-–ø–æ-—Ä–µ–∂–∏–º–∞–º)
9. [Brand DNA System](#9-brand-dna-system)
10. [Persona System](#10-persona-system)
11. [Funnel Generator](#11-funnel-generator)
12. [Storyboard System](#12-storyboard-system)
13. [CTR & Viral Prediction](#13-ctr--viral-prediction)
14. [Content Calendar](#14-content-calendar)
15. [Export/Import System](#15-exportimport-system)
16. [UI Components](#16-ui-components)
17. [–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã](#17-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—Å–∏—Å—Ç–µ–º—ã)

---

## 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### 1.1 –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        USER INTERFACE                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇGenerator‚îÇ ‚îÇ Funnel  ‚îÇ ‚îÇ  Brand  ‚îÇ ‚îÇ Persona ‚îÇ ‚îÇCalendar ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ          ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ
        ‚ñº          ‚ñº         ‚ñº         ‚ñº         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      PROMPT ENGINE v6.0                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ   Semantic   ‚îÇ  ‚îÇ  Psychology  ‚îÇ  ‚îÇ  Conversion  ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ   Analyzer   ‚îÇ  ‚îÇ    Module    ‚îÇ  ‚îÇ  Optimizer   ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ   Business   ‚îÇ  ‚îÇ    Style     ‚îÇ  ‚îÇ   Platform   ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ   Profiles   ‚îÇ  ‚îÇ   Profiles   ‚îÇ  ‚îÇ   Adapter    ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         DATABASE                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇLighting‚îÇ ‚îÇ Colors ‚îÇ ‚îÇ Moods  ‚îÇ ‚îÇ Hooks  ‚îÇ ‚îÇNegatives‚îÇ        ‚îÇ
‚îÇ  ‚îÇ  20+   ‚îÇ ‚îÇ  16+   ‚îÇ ‚îÇ  30+   ‚îÇ ‚îÇ  50+   ‚îÇ ‚îÇ  50+   ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      OUTPUT ADAPTERS                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ Gemini ‚îÇ ‚îÇ  Flux  ‚îÇ ‚îÇMidjourn‚îÇ ‚îÇ DALL-E ‚îÇ ‚îÇ  Sora  ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 1.2 –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ engine/
‚îÇ   ‚îî‚îÄ‚îÄ PromptEngine.ts          # –û—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫ (2000+ —Å—Ç—Ä–æ–∫)
‚îÇ       ‚îú‚îÄ‚îÄ DATABASE              # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ SemanticAnalyzer      # AI-–∞–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞
‚îÇ       ‚îú‚îÄ‚îÄ PsychologyModule      # –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
‚îÇ       ‚îú‚îÄ‚îÄ ConversionOptimizer   # CTR/Viral –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ BusinessProfiles      # 16+ –ø—Ä–æ—Ñ–∏–ª–µ–π –±–∏–∑–Ω–µ—Å–∞
‚îÇ       ‚îú‚îÄ‚îÄ StyleProfiles         # 6 —Å—Ç–∏–ª–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ PlatformAdapters      # –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
‚îÇ       ‚îú‚îÄ‚îÄ FunnelGenerator       # AIDA –≤–æ—Ä–æ–Ω–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ StoryboardDirector    # –†–∞—Å–∫–∞–¥—Ä–æ–≤–∫–∞ –≤–∏–¥–µ–æ
‚îÇ       ‚îî‚îÄ‚îÄ ExportSystem          # JSON —ç–∫—Å–ø–æ—Ä—Ç
‚îÇ
‚îú‚îÄ‚îÄ App.tsx                       # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (3000+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ GeneratorTab              # –û—Å–Ω–æ–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ FunnelTab                 # Smart Funnel
‚îÇ   ‚îú‚îÄ‚îÄ BrandTab                  # Brand DNA Kit
‚îÇ   ‚îú‚îÄ‚îÄ PersonaTab                # Persona Avatars
‚îÇ   ‚îú‚îÄ‚îÄ CalendarTab               # Content Calendar
‚îÇ   ‚îú‚îÄ‚îÄ StoryboardTab             # Storyboard Director
‚îÇ   ‚îú‚îÄ‚îÄ CompetitorTab             # Competitor Crusher
‚îÇ   ‚îú‚îÄ‚îÄ RemixTab                  # Smart Remix
‚îÇ   ‚îú‚îÄ‚îÄ BatchTab                  # Product Batch
‚îÇ   ‚îî‚îÄ‚îÄ HistoryTab                # –ò—Å—Ç–æ—Ä–∏—è/–ò–∑–±—Ä–∞–Ω–Ω–æ–µ
‚îÇ
‚îú‚îÄ‚îÄ main.tsx                      # React entry point
‚îî‚îÄ‚îÄ index.css                     # Tailwind styles
```

### 1.3 –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
User Input ‚Üí Semantic Analysis ‚Üí Business Detection ‚Üí 
Psychology Selection ‚Üí Prompt Assembly ‚Üí Model Adaptation ‚Üí 
CTR Prediction ‚Üí Output
```

---

## 2. PromptEngine ‚Äî –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã

### 2.1 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
class PromptEngine {
  private readonly DATABASE: PromptDatabase;
  
  constructor() {
    this.DATABASE = {
      businesses: { ... },       // 16+ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª–µ–π
      lighting: { ... },         // 20+ —Ç–∏–ø–æ–≤ –æ—Å–≤–µ—â–µ–Ω–∏—è
      camera: { ... },           // 15+ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–º–µ—Ä—ã
      compositions: [ ... ],     // 10+ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π
      moods: { ... },            // 30+ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π
      colors: { ... },           // 16+ –ø–∞–ª–∏—Ç—Ä
      hooks: { ... },            // 50+ —Ö—É–∫–æ–≤
      negatives: { ... },        // 50+ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö
      psychology: { ... },       // 15+ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
      styles: { ... },           // 6 —Å—Ç–∏–ª–µ–π
      platforms: { ... },        // 5 –ø–ª–∞—Ç—Ñ–æ—Ä–º
      seasons: { ... }           // 9 —Å–µ–∑–æ–Ω–æ–≤
    };
  }
}
```

### 2.2 –ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```typescript
generate(
  query: string,
  options: GenerateOptions
): GeneratedPrompt {
  
  // 1. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
  const analysis = this.analyzeQuery(query);
  
  // 2. –í—ã–±–æ—Ä –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª—è
  const business = this.selectBusinessProfile(analysis);
  
  // 3. –í—ã–±–æ—Ä –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏
  const psychology = this.selectPsychology(business, options);
  
  // 4. –°–±–æ—Ä–∫–∞ –±–ª–æ–∫–æ–≤
  const blocks = this.assembleBlocks(analysis, business, psychology, options);
  
  // 5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞
  const prompt = this.buildPrompt(blocks, options);
  
  // 6. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–¥–µ–ª—å
  const adapted = this.adaptForModel(prompt, options.model);
  
  // 7. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ CTR
  const scores = this.predictScores(adapted);
  
  return {
    mainPrompt: adapted.main,
    negativePrompt: adapted.negative,
    blocks,
    ctrScore: scores.ctr,
    viralScore: scores.viral,
    ...
  };
}
```

### 2.3 –ú–µ—Ç–æ–¥—ã PromptEngine

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|-------|----------|------------|
| `generate()` | –û—Å–Ω–æ–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | `GeneratedPrompt` |
| `generateFunnel()` | AIDA –≤–æ—Ä–æ–Ω–∫–∞ | `FunnelResult` |
| `generateStoryboard()` | –†–∞—Å–∫–∞–¥—Ä–æ–≤–∫–∞ | `Storyboard` |
| `generateCalendar()` | –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω | `CalendarResult` |
| `analyzeCompetitors()` | –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ | `CompetitorAnalysis` |
| `remixPrompt()` | –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ | `GeneratedPrompt` |
| `predictCTR()` | –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ CTR | `CTRPrediction` |
| `analyzePromptDNA()` | –†–∞–∑–±–æ—Ä –ø—Ä–æ–º–ø—Ç–∞ | `PromptDNA` |

---

## 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤

### 3.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ DATABASE

```typescript
const DATABASE = {
  // –¢–∏–ø—ã –æ—Å–≤–µ—â–µ–Ω–∏—è (20+)
  lighting: {
    natural: {
      soft: "Soft diffused natural daylight streaming through large windows...",
      golden: "Warm golden hour sunlight with long dramatic shadows...",
      overcast: "Even overcast daylight providing soft shadowless illumination...",
      // ...
    },
    studio: {
      softbox: "Professional softbox lighting creating even flattering illumination...",
      rembrandt: "Classic Rembrandt lighting with signature triangle...",
      // ...
    },
    dramatic: {
      chiaroscuro: "High contrast chiaroscuro lighting with deep shadows...",
      rim: "Strong rim lighting creating glowing outline around subject...",
      // ...
    },
    // ...
  },

  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã (15+)
  camera: {
    portrait: {
      lens: "85mm f/1.4 prime lens",
      settings: "shallow depth of field with creamy bokeh",
      angle: "eye level straight-on or slight 3/4 angle",
      // ...
    },
    product: { ... },
    wide: { ... },
    cinematic: { ... },
    food: { ... },
    // ...
  },

  // –¶–≤–µ—Ç–æ–≤—ã–µ –ø–∞–ª–∏—Ç—Ä—ã (16+)
  colors: {
    trust: {
      primary: "#1a73e8",
      secondary: "#ffffff", 
      accent: "#34a853",
      psychology: "Blue builds trust and reliability...",
      usage: "Professional services, finance, healthcare"
    },
    energy: {
      primary: "#ff0000",
      secondary: "#000000",
      accent: "#ff6b00",
      psychology: "Red creates urgency and excitement...",
      usage: "Fitness, sales, food"
    },
    // luxury, nature, warmth, cool, creative, minimal, vibrant...
  },

  // –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã (15+)
  psychology: {
    fomo: {
      name: "Fear of Missing Out",
      description: "Creates urgency through potential loss",
      visualElements: ["countdown timers", "limited stock indicators", "exclusive badges"],
      textPatterns: ["–¢–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è", "–û—Å—Ç–∞–ª–æ—Å—å 3 —à—Ç", "–£—Å–ø–µ–π –¥–æ..."],
      emotionalHook: "anxiety about missing opportunity"
    },
    socialProof: { ... },
    authority: { ... },
    scarcity: { ... },
    reciprocity: { ... },
    // ...
  },

  // –•—É–∫–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (50+)
  hooks: {
    pov: ["POV: —Ç—ã {action}", "POV: –∫–æ–≥–¥–∞ {situation}"],
    question: ["–ê —Ç—ã –∑–Ω–∞–ª, —á—Ç–æ...?", "–ü–æ—á–µ–º—É –Ω–∏–∫—Ç–æ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç –æ...?"],
    controversy: ["–≠—Ç–æ –∏–∑–º–µ–Ω–∏—Ç –≤—Å—ë", "–ó–∞–±—É–¥—å –≤—Å—ë, —á—Ç–æ —Ç—ã –∑–Ω–∞–ª –æ..."],
    story: ["–ò—Å—Ç–æ—Ä–∏—è –∫–∞–∫ —è...", "3 –≥–æ–¥–∞ –Ω–∞–∑–∞–¥ —è..."],
    // ...
  },

  // –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (50+)
  negatives: {
    technical: ["low quality", "blurry", "pixelated", "overexposed", "underexposed"],
    anatomy: ["deformed", "bad anatomy", "wrong proportions", "extra fingers"],
    style: ["cartoon", "illustration", "3d render", "anime"],
    artifacts: ["watermark", "signature", "text", "logo"],
    // ...
  }
};
```

### 3.2 –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª–∏

```typescript
businesses: {
  cleaning: {
    name: "–ö–ª–∏–Ω–∏–Ω–≥",
    keywords: ["–∫–ª–∏–Ω–∏–Ω–≥", "—É–±–æ—Ä–∫–∞", "—á–∏—Å—Ç–æ—Ç–∞", "clean"],
    contentType: "before-after split-screen",
    visualStyle: "clean, bright, professional",
    primaryEmotion: "relief, satisfaction",
    targetPain: ["–≥—Ä—è–∑—å", "–Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏", "—É—Å—Ç–∞–ª–æ—Å—Ç—å"],
    targetDesire: ["—á–∏—Å—Ç–æ—Ç–∞", "—Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è", "–∫–æ–º—Ñ–æ—Ä—Ç"],
    recommendedTriggers: ["transformation", "trust", "convenience"],
    colors: "trust", // —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–∞–ª–∏—Ç—Ä—É
    lighting: "natural.soft",
    composition: "splitScreen",
    cta: "–ó–ê–ö–ê–ó–ê–¢–¨ –£–ë–û–†–ö–£",
    hooks: ["before-after", "transformation", "satisfaction"]
  },
  
  restaurant: {
    name: "–†–µ—Å—Ç–æ—Ä–∞–Ω",
    keywords: ["—Ä–µ—Å—Ç–æ—Ä–∞–Ω", "–µ–¥–∞", "–∫—É—Ö–Ω—è", "food"],
    contentType: "appetizing food close-up",
    visualStyle: "warm, inviting, delicious",
    primaryEmotion: "appetite, desire, comfort",
    targetPain: ["–≥–æ–ª–æ–¥", "—Å–∫—É—á–Ω–∞—è –µ–¥–∞", "–Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≥–æ—Ç–æ–≤–∏—Ç—å"],
    targetDesire: ["–≤–∫—É—Å–Ω–∞—è –µ–¥–∞", "—É—é—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞", "–æ—Å–æ–±—ã–π –≤–µ—á–µ—Ä"],
    recommendedTriggers: ["desire", "sensory", "social"],
    colors: "warmth",
    lighting: "natural.golden",
    composition: "closeUp45",
    cta: "–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨",
    hooks: ["foodPorn", "behindScenes", "chefSecret"]
  },
  
  // beauty, fitness, auto, realestate, medical, education...
  // –í—Å–µ–≥–æ 16+ –ø—Ä–æ—Ñ–∏–ª–µ–π
}
```

---

## 4. AI Semantic Analyzer

### 4.1 –ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞

```typescript
analyzeQuery(query: string): SemanticAnalysis {
  return {
    // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    originalQuery: query,
    businessType: this.detectBusinessType(query),
    location: this.extractLocation(query),
    
    // –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è
    priceSegment: this.detectPriceSegment(query),
    // "—ç–ª–∏—Ç–Ω—ã–π", "–ª—é–∫—Å" ‚Üí "luxury"
    // "–±—é–¥–∂–µ—Ç–Ω—ã–π", "–¥–µ—à—ë–≤—ã–π" ‚Üí "budget"
    // default ‚Üí "mid"
    
    // –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
    emotionalTone: this.detectTone(query),
    // "—Å—Ä–æ—á–Ω–æ", "–±—ã—Å—Ç—Ä–æ" ‚Üí "urgent"
    // "–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π", "–Ω–∞–¥—ë–∂–Ω—ã–π" ‚Üí "professional"
    // "—É—é—Ç–Ω—ã–π", "–¥–æ–º–∞—à–Ω–∏–π" ‚Üí "cozy"
    
    // –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
    targetAudience: {
      gender: this.detectGender(query),
      ageRange: this.detectAge(query),
      painPoints: this.extractPainPoints(query),
      desires: this.extractDesires(query)
    },
    
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã
    seasonality: this.detectSeason(query),
    urgency: this.detectUrgency(query),
    specialOffer: this.detectOffer(query)
  };
}
```

### 4.2 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –±–∏–∑–Ω–µ—Å–∞

```typescript
detectBusinessType(query: string): string {
  const lowerQuery = query.toLowerCase();
  
  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
  for (const [type, profile] of Object.entries(this.DATABASE.businesses)) {
    if (profile.keywords.some(kw => lowerQuery.includes(kw))) {
      return type;
    }
  }
  
  // –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  if (this.containsServiceIndicators(lowerQuery)) {
    return this.detectServiceType(lowerQuery);
  }
  
  if (this.containsProductIndicators(lowerQuery)) {
    return this.detectProductType(lowerQuery);
  }
  
  // Default
  return 'general';
}
```

### 4.3 –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏

```typescript
extractLocation(query: string): string | null {
  const cities = [
    '–º–æ—Å–∫–≤–∞', 'moscow', '–º—Å–∫',
    '—Å–∞–Ω–∫—Ç-–ø–µ—Ç–µ—Ä–±—É—Ä–≥', '–ø–∏—Ç–µ—Ä', '—Å–ø–±',
    '–∞–ª–º–∞—Ç—ã', 'almaty',
    '–∞—Å—Ç–∞–Ω–∞', '–Ω—É—Ä-—Å—É–ª—Ç–∞–Ω',
    '—Ç–∞—à–∫–µ–Ω—Ç', 'tashkent',
    '–∫–∏–µ–≤', 'kiev', 'kyiv',
    '–º–∏–Ω—Å–∫', 'minsk',
    // ... 50+ –≥–æ—Ä–æ–¥–æ–≤
  ];
  
  const lowerQuery = query.toLowerCase();
  
  for (const city of cities) {
    if (lowerQuery.includes(city)) {
      return this.normalizeCity(city);
    }
  }
  
  // –ü–æ–∏—Å–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ "–≤ {–≥–æ—Ä–æ–¥}", "–≥–æ—Ä–æ–¥ {–Ω–∞–∑–≤–∞–Ω–∏–µ}"
  const patterns = [
    /–≤\s+([–∞-—è—ë]+)/i,
    /–≥–æ—Ä–æ–¥\s+([–∞-—è—ë]+)/i,
    /–≥\.\s*([–∞-—è—ë]+)/i
  ];
  
  for (const pattern of patterns) {
    const match = query.match(pattern);
    if (match) {
      return this.normalizeCity(match[1]);
    }
  }
  
  return null;
}
```

---

## 5. –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å

### 5.1 –í—ã–±–æ—Ä —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

```typescript
selectPsychology(
  business: BusinessProfile,
  options: GenerateOptions
): PsychologyConfig {
  
  // –ë–∞–∑–æ–≤—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è –±–∏–∑–Ω–µ—Å–∞
  const baseTriggers = business.recommendedTriggers;
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
  const contextTriggers = this.getContextTriggers(options);
  
  // –°–µ–∑–æ–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
  const seasonalTriggers = this.getSeasonalTriggers();
  
  // –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  const ranked = this.rankTriggers([
    ...baseTriggers,
    ...contextTriggers,
    ...seasonalTriggers
  ]);
  
  // –í—ã–±–æ—Ä —Ç–æ–ø-3
  return {
    primary: ranked[0],
    secondary: ranked[1],
    tertiary: ranked[2],
    visualElements: this.getVisualElements(ranked.slice(0, 3)),
    textPatterns: this.getTextPatterns(ranked.slice(0, 3)),
    emotionalHooks: this.getEmotionalHooks(ranked.slice(0, 3))
  };
}
```

### 5.2 –¢—Ä–∏–≥–≥–µ—Ä—ã –≤ –¥–µ—Ç–∞–ª—è—Ö

```typescript
psychology: {
  fomo: {
    name: "Fear of Missing Out",
    nameRu: "–°—Ç—Ä–∞—Ö —É–ø—É—Å—Ç–∏—Ç—å",
    effectiveness: 0.89, // 89% increase in conversions
    
    visualElements: [
      "countdown timer prominently displayed",
      "stock counter showing limited availability",
      "exclusive member badge",
      "sold out indicators on some items",
      "queue or waiting list visual"
    ],
    
    textPatterns: [
      "–¢–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è",
      "–û—Å—Ç–∞–ª–æ—Å—å {n} –º–µ—Å—Ç",
      "–ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–Ω—Å",
      "–î–æ –∫–æ–Ω—Ü–∞ –∞–∫—Ü–∏–∏: {time}",
      "–£–∂–µ {n} —á–µ–ª–æ–≤–µ–∫ –∫—É–ø–∏–ª–∏"
    ],
    
    emotionalHook: "anxiety about missing unique opportunity",
    
    colorRecommendation: "red accents for urgency",
    
    bestFor: ["sales", "limited editions", "events", "launches"]
  },
  
  socialProof: {
    name: "Social Proof",
    nameRu: "–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ",
    effectiveness: 0.85,
    
    visualElements: [
      "star rating display (4.8+ visible)",
      "customer review quotes",
      "number of satisfied customers",
      "trust badges and certifications",
      "real customer photos",
      "influencer endorsements"
    ],
    
    textPatterns: [
      "{n}+ –¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤",
      "–†–µ–π—Ç–∏–Ω–≥ {rating} –∏–∑ 5",
      "–ù–∞–º –¥–æ–≤–µ—Ä—è—é—Ç {brands}",
      "–í—ã–±–æ—Ä {n} –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤"
    ],
    
    emotionalHook: "comfort in following others' choices",
    
    bestFor: ["services", "high-consideration purchases", "new brands"]
  },
  
  transformation: {
    name: "Before/After Transformation",
    nameRu: "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –î–æ/–ü–æ—Å–ª–µ",
    effectiveness: 0.92,
    
    visualElements: [
      "split-screen comparison",
      "progress indicators",
      "dramatic contrast in states",
      "same angle/lighting for authenticity",
      "timeline showing progression"
    ],
    
    emotionalHook: "hope for personal change",
    
    bestFor: ["beauty", "fitness", "cleaning", "renovation", "education"]
  },
  
  // authority, scarcity, reciprocity, urgency, curiosity, 
  // exclusivity, simplicity, sensory, aspirational, fear...
}
```

### 5.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ –≤ –ø—Ä–æ–º–ø—Ç–µ

```typescript
applyPsychology(
  blocks: PromptBlocks,
  psychology: PsychologyConfig
): PromptBlocks {
  
  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç—Ä–∏–≥–≥–µ—Ä–∞
  blocks.details += ` ${psychology.visualElements.join(', ')}`;
  
  // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
  blocks.mood = `${blocks.mood} with underlying ${psychology.primary.emotionalHook}`;
  
  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
  if (psychology.textPatterns.length > 0) {
    blocks.textOverlay = this.enhanceTextWithTrigger(
      blocks.textOverlay,
      psychology.textPatterns[0]
    );
  }
  
  // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ü–≤–µ—Ç–æ–≤ –ø–æ–¥ —Ç—Ä–∏–≥–≥–µ—Ä
  if (psychology.primary.colorRecommendation) {
    blocks.colors = this.adjustColorsForTrigger(
      blocks.colors,
      psychology.primary.colorRecommendation
    );
  }
  
  // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –±–ª–æ–∫ –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏
  blocks.psychologyTrigger = this.formatPsychologyBlock(psychology);
  
  return blocks;
}
```

---

## 6. –ö–æ–Ω–≤–µ—Ä—Å–∏–æ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 6.1 CTR Predictor

```typescript
predictCTR(prompt: string): CTRPrediction {
  let score = 50; // –ë–∞–∑–æ–≤—ã–π –±–∞–ª–ª
  const factors: ScoreFactor[] = [];
  const improvements: string[] = [];
  
  // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  const hasLighting = this.checkLighting(prompt);
  if (hasLighting) {
    score += 8;
    factors.push({ name: 'Lighting', impact: +8, present: true });
  } else {
    improvements.push('–î–æ–±–∞–≤—å—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—Å–≤–µ—â–µ–Ω–∏—è');
  }
  
  // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
  const triggers = this.detectTriggers(prompt);
  score += triggers.length * 5;
  factors.push({ name: 'Psychology', impact: triggers.length * 5, present: triggers.length > 0 });
  
  // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  const emotions = this.detectEmotions(prompt);
  score += emotions.length * 3;
  
  // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç–∏
  const specificity = this.measureSpecificity(prompt);
  score += specificity * 10;
  
  // 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏
  const hasHierarchy = this.checkVisualHierarchy(prompt);
  if (hasHierarchy) score += 7;
  
  // 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ CTA
  const hasCTA = this.checkCTA(prompt);
  if (hasCTA) score += 5;
  
  // 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–≤–µ—Ç–æ–≤–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏
  const hasColorPsych = this.checkColorPsychology(prompt);
  if (hasColorPsych) score += 6;
  
  // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è 0-100
  score = Math.min(100, Math.max(0, score));
  
  return {
    score,
    grade: this.scoreToGrade(score),
    factors,
    improvements,
    confidence: this.calculateConfidence(factors)
  };
}

scoreToGrade(score: number): string {
  if (score >= 90) return 'S';
  if (score >= 80) return 'A';
  if (score >= 70) return 'B';
  if (score >= 60) return 'C';
  if (score >= 50) return 'D';
  return 'F';
}
```

### 6.2 Viral Score

```typescript
predictViralScore(prompt: string): number {
  let score = 0;
  
  // –§–∞–∫—Ç–æ—Ä—ã –≤–∏—Ä—É—Å–Ω–æ—Å—Ç–∏
  const factors = {
    emotionalIntensity: this.measureEmotionalIntensity(prompt) * 20,
    novelty: this.measureNovelty(prompt) * 15,
    relatability: this.measureRelatability(prompt) * 15,
    shareability: this.measureShareability(prompt) * 15,
    hookStrength: this.measureHookStrength(prompt) * 20,
    visualImpact: this.measureVisualImpact(prompt) * 15
  };
  
  score = Object.values(factors).reduce((a, b) => a + b, 0);
  
  return Math.min(100, Math.max(0, Math.round(score)));
}
```

### 6.3 Eye-tracking –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

```typescript
const eyeTrackingPatterns = {
  fPattern: {
    name: "F-Pattern",
    description: "Users scan horizontally, then down, then horizontally again",
    bestFor: ["text-heavy content", "articles", "listings"],
    implementation: "Place key info in top-left, headlines at top, bullet points left-aligned"
  },
  
  zPattern: {
    name: "Z-Pattern",
    description: "Eyes move in Z shape: top-left ‚Üí top-right ‚Üí bottom-left ‚Üí bottom-right",
    bestFor: ["landing pages", "ads", "simple layouts"],
    implementation: "Logo top-left, headline top, image center, CTA bottom-right"
  },
  
  goldenSpiral: {
    name: "Golden Spiral",
    description: "Natural focal point following golden ratio",
    bestFor: ["artistic images", "product photography", "hero images"],
    implementation: "Place main subject at spiral focus point"
  },
  
  ruleOfThirds: {
    name: "Rule of Thirds",
    description: "Divide into 3x3 grid, place subjects at intersections",
    bestFor: ["portraits", "landscapes", "product shots"],
    implementation: "Subject at intersection points, horizon on horizontal lines"
  }
};
```

---

## 7. –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª–∏

### 7.1 –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ñ–∏–ª–µ–π

| # | –ü—Ä–æ—Ñ–∏–ª—å | –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ | –°—Ç–∏–ª—å | –¢—Ä–∏–≥–≥–µ—Ä—ã |
|---|---------|----------------|-------|----------|
| 1 | cleaning | –∫–ª–∏–Ω–∏–Ω–≥, —É–±–æ—Ä–∫–∞ | before-after | transformation, trust |
| 2 | beauty | —Å–∞–ª–æ–Ω, –∫—Ä–∞—Å–æ—Ç–∞, –≤–æ–ª–æ—Å—ã | transformation portrait | desire, transformation |
| 3 | fitness | —Ñ–∏—Ç–Ω–µ—Å, —Å–ø–æ—Ä—Ç, –∑–∞–ª | dynamic action | motivation, transformation |
| 4 | restaurant | —Ä–µ—Å—Ç–æ—Ä–∞–Ω, –µ–¥–∞, –∫—É—Ö–Ω—è | food close-up | desire, sensory |
| 5 | cafe | –∫–∞—Ñ–µ, –∫–æ—Ñ–µ, –∫–æ—Ñ–µ–π–Ω—è | lifestyle cozy | comfort, atmosphere |
| 6 | auto | –∞–≤—Ç–æ, —Å–µ—Ä–≤–∏—Å, –º–∞—à–∏–Ω–∞ | professional showcase | trust, expertise |
| 7 | realestate | –∫–≤–∞—Ä—Ç–∏—Ä–∞, –¥–æ–º, –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å | interior showcase | aspiration, lifestyle |
| 8 | medical | –∫–ª–∏–Ω–∏–∫–∞, –≤—Ä–∞—á, –º–µ–¥–∏—Ü–∏–Ω–∞ | professional trust | authority, trust |
| 9 | education | –∫—É—Ä—Å—ã, –æ–±—É—á–µ–Ω–∏–µ, —à–∫–æ–ª–∞ | success transformation | transformation, authority |
| 10 | travel | —Ç—É—Ä—ã, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è | scenic aspirational | desire, escape |
| 11 | flowers | —Ü–≤–µ—Ç—ã, –±—É–∫–µ—Ç | beauty close-up | emotion, beauty |
| 12 | photo | —Ñ–æ—Ç–æ, —Å—ä—ë–º–∫–∞ | portfolio artistic | quality, creativity |
| 13 | pets | –ø–∏—Ç–æ–º—Ü—ã, –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä | emotional connection | emotion, care |
| 14 | bakery | –≤—ã–ø–µ—á–∫–∞, –ø–µ–∫–∞—Ä–Ω—è | appetizing texture | sensory, comfort |
| 15 | jewelry | —É–∫—Ä–∞—à–µ–Ω–∏—è, —é–≤–µ–ª–∏—Ä–Ω—ã–π | luxury macro | exclusivity, desire |
| 16 | clothing | –æ–¥–µ–∂–¥–∞, –º–æ–¥–∞ | fashion lifestyle | aspiration, style |

### 7.2 –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–ø—Ä–∏–º–µ—Ä)

```typescript
beauty: {
  name: "–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã",
  nameEn: "Beauty Salon",
  
  keywords: [
    "—Å–∞–ª–æ–Ω", "–∫—Ä–∞—Å–æ—Ç–∞", "–∫—Ä–∞—Å–æ—Ç—ã", "–ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä", "–ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–∞—è",
    "–≤–æ–ª–æ—Å—ã", "—Å—Ç—Ä–∏–∂–∫–∞", "–æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ", "–º–∞–Ω–∏–∫—é—Ä", "–ø–µ–¥–∏–∫—é—Ä",
    "–∫–æ—Å–º–µ—Ç–æ–ª–æ–≥", "–≤–∏–∑–∞–∂–∏—Å—Ç", "–º–∞–∫–∏—è–∂", "–±—Ä–æ–≤–∏", "—Ä–µ—Å–Ω–∏—Ü—ã",
    "beauty", "salon", "hair", "makeup", "nails"
  ],
  
  contentType: "glamorous before-after transformation portrait",
  visualStyle: "elegant, glamorous, aspirational, professional quality",
  
  primaryEmotion: "confidence, beauty, transformation, self-love",
  
  targetAudience: {
    primary: "women 25-45",
    secondary: "women 18-25, women 45-60"
  },
  
  targetPain: [
    "–Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ –≤–Ω–µ—à–Ω–æ—Å—Ç—å—é",
    "—Ç—É—Å–∫–ª—ã–µ/–ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –≤–æ–ª–æ—Å—ã", 
    "–Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–µ–±—è",
    "–Ω–µ –∑–Ω–∞—é —á—Ç–æ –º–Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç",
    "–ø–ª–æ—Ö–æ–π –æ–ø—ã—Ç –≤ –¥—Ä—É–≥–∏—Ö —Å–∞–ª–æ–Ω–∞—Ö"
  ],
  
  targetDesire: [
    "–≤—ã–≥–ª—è–¥–µ—Ç—å –º–æ–ª–æ–∂–µ/—Å–≤–µ–∂–µ–µ",
    "—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–µ–±–µ",
    "–∫–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã –æ—Ç –æ–∫—Ä—É–∂–∞—é—â–∏—Ö",
    "—Ç—Ä–µ–Ω–¥–æ–≤—ã–π –æ–±—Ä–∞–∑",
    "–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —É—Ö–æ–¥"
  ],
  
  recommendedTriggers: ["transformation", "desire", "socialProof", "expertise"],
  
  colors: "luxury", // —Ä–æ–∑–æ–≤—ã–π + –∑–æ–ª–æ—Ç–æ–π
  lighting: "studio.beauty", // –º—è–≥–∫–∏–π –ª—å—Å—Ç—è—â–∏–π —Å–≤–µ—Ç
  composition: "portrait",
  camera: "portrait",
  
  cta: {
    primary: "–ó–ê–ü–ò–°–ê–¢–¨–°–Ø",
    alternatives: ["–ó–ê–ë–†–û–ù–ò–†–û–í–ê–¢–¨", "–ü–û–õ–£–ß–ò–¢–¨ –°–ö–ò–î–ö–£", "–ö–û–ù–°–£–õ–¨–¢–ê–¶–ò–Ø"]
  },
  
  hooks: [
    "transformation",
    "before-after", 
    "–ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è",
    "—Å–µ–∫—Ä–µ—Ç—ã –º–∞—Å—Ç–µ—Ä–∞",
    "—Ç—Ä–µ–Ω–¥—ã —Å–µ–∑–æ–Ω–∞"
  ],
  
  seasonalAdaptations: {
    summer: "–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–æ–ª–Ω—Ü–∞, –ª—ë–≥–∫–∏–µ —É–∫–ª–∞–¥–∫–∏",
    winter: "—É–≤–ª–∞–∂–Ω–µ–Ω–∏–µ, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ",
    spring: "–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –¥–µ—Ç–æ–∫—Å",
    autumn: "–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ö–æ–ª–æ–¥–∞–º, –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞"
  },
  
  modelGuidelines: {
    age: "match target audience or slightly aspirational",
    expression: "confident, radiant smile, eye contact",
    pose: "slight head tilt, relaxed shoulders"
  }
}
```

---

## 8. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–∂–∏–º–∞–º

### 8.1 Image Mode

```typescript
generateImage(query: string, options: GenerateOptions): GeneratedPrompt {
  const blocks = this.assembleImageBlocks(query, options);
  
  return {
    mainPrompt: this.buildImagePrompt(blocks),
    negativePrompt: this.buildNegativePrompt(blocks, 'image'),
    blocks,
    ...
  };
}

buildImagePrompt(blocks: PromptBlocks): string {
  return `${blocks.quality} ${blocks.contentType}

SUBJECT & PERSON: ${blocks.subject}. ${blocks.person}

ENVIRONMENT: ${blocks.environment}

LIGHTING: ${blocks.lighting}

COLOR PSYCHOLOGY: ${blocks.colors}. ${blocks.colorPsychology}

MOOD & EMOTIONAL RESPONSE: ${blocks.mood}

PSYCHOLOGY TRIGGER: ${blocks.psychologyTrigger}

VISUAL HIERARCHY: ${blocks.visualHierarchy}

COMPOSITION: ${blocks.composition}

CAMERA & TECHNICAL: ${blocks.camera}

SPECIFIC DETAILS: ${blocks.details}

ATTENTION GRABBERS: ${blocks.attentionGrabbers}

HOOK: "${blocks.hook}"

TEXT OVERLAY: ${blocks.textOverlay}

CTA: "${blocks.cta}"

FORMAT: ${blocks.format}`;
}
```

### 8.2 Video Mode

```typescript
generateVideo(query: string, options: GenerateOptions): GeneratedPrompt {
  const imageBlocks = this.assembleImageBlocks(query, options);
  
  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  const videoBlocks = {
    ...imageBlocks,
    motion: this.generateMotion(query, options),
    duration: this.getDuration(options),
    transitions: this.getTransitions(),
    audio: this.getAudioRecommendation(query)
  };
  
  return {
    mainPrompt: this.buildVideoPrompt(videoBlocks),
    ...
  };
}

buildVideoPrompt(blocks: VideoBlocks): string {
  return `${blocks.quality} cinematic video

SCENE: ${blocks.subject}

MOTION: ${blocks.motion}

DURATION: ${blocks.duration} seconds

ENVIRONMENT: ${blocks.environment}

LIGHTING: ${blocks.lighting} with dynamic light changes

CAMERA MOVEMENT: ${blocks.cameraMovement}

MOOD: ${blocks.mood}

TRANSITIONS: ${blocks.transitions}

AUDIO RECOMMENDATION: ${blocks.audio}

FORMAT: ${blocks.format}`;
}
```

### 8.3 3D Mode

```typescript
generate3D(query: string, options: GenerateOptions): GeneratedPrompt {
  return {
    mainPrompt: `High-quality 3D model of ${blocks.subject}

GEOMETRY: Clean topology, optimized mesh, realistic proportions

MATERIALS: ${blocks.materials}

TEXTURES: ${blocks.textures}

LIGHTING SETUP: ${blocks.lighting}

STYLE: ${blocks.style}

RENDER SETTINGS: High quality, 4K resolution, ray-traced

OUTPUT: GLB/GLTF format, PBR materials`,
    ...
  };
}
```

### 8.4 Storyboard Mode

```typescript
generateStoryboard(
  query: string, 
  duration: number
): Storyboard {
  const framesCount = Math.ceil(duration / 5); // ~5 sec per frame
  const frames: StoryboardFrame[] = [];
  
  // Frame 1: Hook
  frames.push(this.generateHookFrame(query));
  
  // Frame 2: Problem/Context
  frames.push(this.generateProblemFrame(query));
  
  // Frames 3-N-2: Solution/Benefits
  for (let i = 0; i < framesCount - 4; i++) {
    frames.push(this.generateBenefitFrame(query, i));
  }
  
  // Frame N-1: Social Proof
  frames.push(this.generateProofFrame(query));
  
  // Frame N: CTA
  frames.push(this.generateCTAFrame(query));
  
  return {
    query,
    duration,
    framesCount: frames.length,
    frames,
    transitions: this.getTransitionsForStoryboard(frames),
    audioTrack: this.getAudioRecommendation(query)
  };
}
```

---

## 9. Brand DNA System

### 9.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Brand DNA

```typescript
interface BrandDNA {
  id: string;
  name: string;
  
  // –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å
  visual: {
    primaryColor: string;      // HEX
    secondaryColor: string;    // HEX
    accentColor: string;       // HEX
    colorPsychology: string;   // –ü–æ—á–µ–º—É —ç—Ç–∏ —Ü–≤–µ—Ç–∞
    typography: string;        // –°—Ç–∏–ª—å —à—Ä–∏—Ñ—Ç–æ–≤
    visualStyle: string;       // –û–±—â–∏–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å
  };
  
  // –¢–æ–Ω –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
  voice: {
    toneOfVoice: string;       // formal/friendly/playful/luxury
    vocabulary: string[];      // –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –±—Ä–µ–Ω–¥–∞
    avoidWords: string[];      // –°–ª–æ–≤–∞ –∫–æ—Ç–æ—Ä—ã—Ö –∏–∑–±–µ–≥–∞—Ç—å
    personality: string;       // –ü–µ—Ä—Å–æ–Ω–∞–ª–∏—è –±—Ä–µ–Ω–¥–∞
  };
  
  // –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
  audience: {
    primary: string;           // –û—Å–Ω–æ–≤–Ω–∞—è –¶–ê
    secondary: string;         // –í—Ç–æ—Ä–∏—á–Ω–∞—è –¶–ê
    painPoints: string[];      // –ë–æ–ª–∏ –¶–ê
    desires: string[];         // –ñ–µ–ª–∞–Ω–∏—è –¶–ê
  };
  
  // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  positioning: {
    industry: string;          // –ò–Ω–¥—É—Å—Ç—Ä–∏—è
    usp: string;               // –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
    competitors: string[];     // –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã
    differentiators: string[]; // –û—Ç–ª–∏—á–∏—è
  };
  
  // –ú–µ—Ç–∞
  createdAt: Date;
  updatedAt: Date;
}
```

### 9.2 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Brand DNA

```typescript
applyBrandDNA(
  blocks: PromptBlocks, 
  brand: BrandDNA
): PromptBlocks {
  
  // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ –±—Ä–µ–Ω–¥–∞
  blocks.colors = `Primary brand color: ${brand.visual.primaryColor}, 
    Secondary: ${brand.visual.secondaryColor}, 
    Accent: ${brand.visual.accentColor}. 
    ${brand.visual.colorPsychology}`;
  
  // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª—è
  blocks.mood = `${brand.visual.visualStyle} style with 
    ${brand.voice.toneOfVoice} tone. 
    Brand personality: ${brand.voice.personality}`;
  
  // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
  blocks.details += ` Brand elements: ${brand.voice.vocabulary.join(', ')}`;
  
  // USP –≤ —Ç–µ–∫—Å—Ç–µ
  blocks.textOverlay = this.incorporateUSP(blocks.textOverlay, brand.positioning.usp);
  
  // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –¶–ê
  blocks.person = this.adaptPersonForAudience(blocks.person, brand.audience.primary);
  
  return blocks;
}
```

---

## 10. Persona System

### 10.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Persona

```typescript
interface Persona {
  id: string;
  
  // –î–µ–º–æ–≥—Ä–∞—Ñ–∏—è
  name: string;              // "–ê–Ω–Ω–∞ –ö–∞—Ä—å–µ—Ä–∏—Å—Ç–∫–∞"
  avatar: string;            // –≠–º–æ–¥–∑–∏ –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ
  age: string;               // "28-35"
  gender: 'male' | 'female' | 'other';
  location: string;          // "–ú–æ—Å–∫–≤–∞, —Ü–µ–Ω—Ç—Ä"
  
  // –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã
  occupation: string;        // "–ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥ –≤ IT-–∫–æ–º–ø–∞–Ω–∏–∏"
  income: string;            // "150,000-300,000 ‚ÇΩ/–º–µ—Å"
  education: string;         // "–í—ã—Å—à–µ–µ, MBA"
  familyStatus: string;      // "–ó–∞–º—É–∂–µ–º, –±–µ–∑ –¥–µ—Ç–µ–π"
  
  // –ü—Å–∏—Ö–æ–≥—Ä–∞—Ñ–∏—è
  lifestyle: string;         // –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞ –∂–∏–∑–Ω–∏
  values: string[];          // ["–ö–∞—Ä—å–µ—Ä–∞", "–°–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏–µ", "–ó–¥–æ—Ä–æ–≤—å–µ"]
  interests: string[];       // ["–§–∏—Ç–Ω–µ—Å", "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", "–í–∏–Ω–æ"]
  
  // –î–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞
  painPoints: string[];      // –ë–æ–ª–∏
  desires: string[];         // –ñ–µ–ª–∞–Ω–∏—è
  objections: string[];      // –í–æ–∑—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ
  triggers: string[];        // –ß—Ç–æ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –∫ –ø–æ–∫—É–ø–∫–µ
  
  // –ú–µ–¥–∏–∞
  platforms: string[];       // ["Instagram", "Telegram", "YouTube"]
  contentPreferences: string[];  // –ö–∞–∫–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç
  influencers: string[];     // –ù–∞ –∫–æ–≥–æ –ø–æ–¥–ø–∏—Å–∞–Ω–∞
  
  // –ü–æ–∫—É–ø–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
  buyingBehavior: string;    // –ö–∞–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è
  pricesSensitivity: string; // –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ü–µ–Ω–µ
  brandLoyalty: string;      // –õ–æ—è–ª—å–Ω–æ—Å—Ç—å –∫ –±—Ä–µ–Ω–¥–∞–º
}
```

### 10.2 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–¥ Persona

```typescript
generateForPersona(
  query: string,
  persona: Persona,
  options: GenerateOptions
): GeneratedPrompt {
  
  // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ–¥ –ø–µ—Ä—Å–æ–Ω—É
  const adaptedOptions = {
    ...options,
    targetGender: persona.gender,
    targetAge: persona.age,
    priceSegment: this.detectPriceSegmentFromIncome(persona.income),
    emotionalTone: this.getToneForPersona(persona)
  };
  
  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å —É—á—ë—Ç–æ–º –±–æ–ª–µ–π –∏ –∂–µ–ª–∞–Ω–∏–π
  const blocks = this.assembleBlocks(query, adaptedOptions);
  
  // –ò–Ω—ä–µ–∫—Ü–∏—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –ø–µ—Ä—Å–æ–Ω—ã
  blocks.psychologyTrigger = this.buildTriggerForPersona(persona);
  
  // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–æ–≤
  blocks.person = this.buildPersonDescription(persona);
  
  // –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤
  blocks.textOverlay = this.adaptTextForPersona(blocks.textOverlay, persona);
  blocks.hook = this.selectHookForPersona(persona);
  
  return this.finalizePrompt(blocks, options);
}
```

---

## 11. Funnel Generator

### 11.1 AIDA Framework

```typescript
generateFunnel(query: string): FunnelResult {
  const analysis = this.analyzeQuery(query);
  
  return {
    awareness: this.generateAwarenessStage(analysis),
    interest: this.generateInterestStage(analysis),
    desire: this.generateDesireStage(analysis),
    action: this.generateActionStage(analysis),
    
    metadata: {
      query,
      businessType: analysis.businessType,
      generatedAt: new Date()
    }
  };
}
```

### 11.2 –≠—Ç–∞–ø—ã –≤–æ—Ä–æ–Ω–∫–∏

```typescript
// AWARENESS - –ü—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è
generateAwarenessStage(analysis: SemanticAnalysis): FunnelStage {
  return {
    name: "Awareness",
    nameRu: "–û—Å–≤–µ–¥–æ–º–ª—ë–Ω–Ω–æ—Å—Ç—å",
    goal: "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–æ–ª–ª, –ø—Ä–∏–≤–ª–µ—á—å –≤–Ω–∏–º–∞–Ω–∏–µ",
    
    contentType: "hook-focused, pattern-interrupt",
    psychology: "curiosity, intrigue, pattern-break",
    
    visualStyle: "bold, contrasting, eye-catching",
    
    prompt: this.generate(analysis.originalQuery, {
      style: 'viral',
      detailLevel: 'detailed',
      focusOn: 'hook'
    }),
    
    cta: "–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ",
    metrics: ["Reach", "Impressions", "Stop Rate"]
  };
}

// INTEREST - –£–¥–µ—Ä–∂–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞
generateInterestStage(analysis: SemanticAnalysis): FunnelStage {
  return {
    name: "Interest",
    nameRu: "–ò–Ω—Ç–µ—Ä–µ—Å",
    goal: "–†–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞—Ö, —É–¥–µ—Ä–∂–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ",
    
    contentType: "educational, benefit-focused",
    psychology: "curiosity-satisfaction, value-demonstration",
    
    prompt: this.generate(analysis.originalQuery, {
      style: 'professional',
      focusOn: 'benefits'
    }),
    
    cta: "–ü–æ–¥—Ä–æ–±–Ω–µ–µ",
    metrics: ["Engagement", "Watch Time", "Saves"]
  };
}

// DESIRE - –°–æ–∑–¥–∞–Ω–∏–µ –∂–µ–ª–∞–Ω–∏—è
generateDesireStage(analysis: SemanticAnalysis): FunnelStage {
  return {
    name: "Desire",
    nameRu: "–ñ–µ–ª–∞–Ω–∏–µ",
    goal: "–°–æ–∑–¥–∞—Ç—å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–≤—è–∑—å –∏ –∂–µ–ª–∞–Ω–∏–µ",
    
    contentType: "aspirational, emotional, testimonial",
    psychology: "desire, aspiration, social-proof",
    
    prompt: this.generate(analysis.originalQuery, {
      style: 'cinematic',
      focusOn: 'emotion'
    }),
    
    cta: "–•–æ—á—É —Ç–∞–∫ –∂–µ",
    metrics: ["Shares", "Comments", "DMs"]
  };
}

// ACTION - –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é
generateActionStage(analysis: SemanticAnalysis): FunnelStage {
  return {
    name: "Action",
    nameRu: "–î–µ–π—Å—Ç–≤–∏–µ",
    goal: "–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ü–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ",
    
    contentType: "offer-focused, urgency, scarcity",
    psychology: "urgency, scarcity, fomo, risk-reversal",
    
    prompt: this.generate(analysis.originalQuery, {
      style: 'professional',
      focusOn: 'conversion'
    }),
    
    cta: analysis.businessType === 'restaurant' ? '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å' : '–ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å',
    metrics: ["Clicks", "Conversions", "ROAS"]
  };
}
```

---

## 12. Storyboard System

### 12.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å–∫–∞–¥—Ä–æ–≤–∫–∏

```typescript
interface Storyboard {
  id: string;
  query: string;
  
  // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏–¥–µ–æ
  duration: number;          // –°–µ–∫—É–Ω–¥—ã
  format: string;            // "vertical" | "horizontal" | "square"
  platform: string;          // –¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
  
  // –ö–∞–¥—Ä—ã
  frames: StoryboardFrame[];
  
  // –ü–µ—Ä–µ—Ö–æ–¥—ã
  transitions: Transition[];
  
  // –ê—É–¥–∏–æ
  audioTrack: AudioRecommendation;
  voiceOver: VoiceOverScript;
  
  // –ú–µ—Ç–∞
  createdAt: Date;
}

interface StoryboardFrame {
  number: number;
  timeStart: number;
  timeEnd: number;
  duration: number;
  
  // –í–∏–∑—É–∞–ª
  shotType: string;          // "close-up", "wide", "medium", etc.
  cameraMovement: string;    // "static", "pan", "zoom", etc.
  composition: string;
  
  // –ö–æ–Ω—Ç–µ–Ω—Ç
  action: string;            // –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–∞–¥—Ä–µ
  subject: string;           // –ö—Ç–æ/—á—Ç–æ –≤ –∫–∞–¥—Ä–µ
  environment: string;       // –ì–¥–µ
  
  // –¢–µ–∫—Å—Ç
  textOverlay: string;
  textPosition: string;
  textAnimation: string;
  
  // –≠–º–æ—Ü–∏—è
  mood: string;
  emotionalBeat: string;     // –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞
  
  // –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–¥—Ä–∞
  imagePrompt: string;
  
  // –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è —Ä–µ–∂–∏—Å—Å—ë—Ä–∞
  directorNotes: string;
}
```

### 12.2 –¢–∏–ø—ã –∫–∞–¥—Ä–æ–≤

```typescript
const frameTypes = {
  hook: {
    duration: 3,
    purpose: "Stop scroll, grab attention",
    shotTypes: ["extreme-close-up", "unexpected-angle", "motion-blur"],
    textStyle: "bold, minimal, provocative",
    examples: ["Steam rising macro", "Eye contact close-up", "Action freeze"]
  },
  
  problem: {
    duration: 5,
    purpose: "Establish pain point, create relatability",
    shotTypes: ["medium-shot", "over-shoulder", "POV"],
    textStyle: "question, empathy",
    examples: ["Frustrated expression", "Messy situation", "Struggle moment"]
  },
  
  solution: {
    duration: 7,
    purpose: "Introduce product/service as hero",
    shotTypes: ["product-hero", "reveal", "demonstration"],
    textStyle: "benefit-focused, clear",
    examples: ["Product in action", "Transformation beginning", "Expert at work"]
  },
  
  benefit: {
    duration: 5,
    purpose: "Show specific advantages",
    shotTypes: ["close-up-detail", "comparison", "lifestyle"],
    textStyle: "feature + benefit",
    examples: ["Detail shot", "Before/after", "Happy usage"]
  },
  
  socialProof: {
    duration: 4,
    purpose: "Build trust through others",
    shotTypes: ["testimonial", "montage", "stats-visual"],
    textStyle: "quote, numbers",
    examples: ["Customer smile", "Review screen", "Crowd/popularity"]
  },
  
  cta: {
    duration: 4,
    purpose: "Drive action",
    shotTypes: ["logo-reveal", "offer-card", "contact-info"],
    textStyle: "action verb, urgency",
    examples: ["Logo + tagline", "Offer details", "Clear next step"]
  }
};
```

---

## 13. CTR & Viral Prediction

### 13.1 CTR Score Factors

```typescript
const ctrFactors = {
  // –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (20+ –±–∞–ª–ª–æ–≤ –∫–∞–∂–¥—ã–π)
  critical: {
    hookStrength: { weight: 20, check: 'hasStrongHook' },
    emotionalTrigger: { weight: 20, check: 'hasEmotionalElement' },
    visualClarity: { weight: 15, check: 'hasClearSubject' }
  },
  
  // –í–∞–∂–Ω—ã–µ (10-15 –±–∞–ª–ª–æ–≤)
  important: {
    colorContrast: { weight: 12, check: 'hasContrastingColors' },
    ctaClarity: { weight: 10, check: 'hasClearCTA' },
    socialProof: { weight: 10, check: 'hasSocialProof' },
    lighting: { weight: 8, check: 'hasDetailedLighting' }
  },
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (5-8 –±–∞–ª–ª–æ–≤)
  additional: {
    specificity: { weight: 8, check: 'hasSpecificDetails' },
    urgency: { weight: 7, check: 'hasUrgencyElement' },
    composition: { weight: 5, check: 'hasCompositionRules' }
  }
};
```

### 13.2 Viral Score Factors

```typescript
const viralFactors = {
  emotionalIntensity: {
    weight: 25,
    description: "–°–∏–ª–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏",
    indicators: ["surprise", "joy", "anger", "awe", "fear"]
  },
  
  shareability: {
    weight: 20,
    description: "–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–¥–µ–ª–∏—Ç—å—Å—è",
    indicators: ["relatable", "useful", "funny", "inspiring"]
  },
  
  novelty: {
    weight: 20,
    description: "–ù–æ–≤–∏–∑–Ω–∞ –∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç—å",
    indicators: ["unique angle", "fresh take", "surprising twist"]
  },
  
  hookPower: {
    weight: 20,
    description: "–°–∏–ª–∞ –ø–µ—Ä–≤—ã—Ö 3 —Å–µ–∫—É–Ω–¥",
    indicators: ["pattern interrupt", "curiosity gap", "bold statement"]
  },
  
  trendAlignment: {
    weight: 15,
    description: "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–Ω–¥–∞–º",
    indicators: ["current format", "trending topic", "platform native"]
  }
};
```

---

## 14. Content Calendar

### 14.1 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è

```typescript
generateCalendar(
  query: string, 
  month: number, 
  year: number
): ContentCalendar {
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  const days: CalendarDay[] = [];
  
  for (let day = 1; day <= daysInMonth; day++) {
    const date = new Date(year, month, day);
    
    days.push({
      date,
      dayOfWeek: date.getDay(),
      
      // –ü—Ä–∞–∑–¥–Ω–∏–∫–∏
      holiday: this.getHoliday(date),
      
      // –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ –¥–Ω—é –Ω–µ–¥–µ–ª–∏
      contentType: this.getContentTypeForDay(date.getDay()),
      
      // –•—É–∫
      hook: this.selectHookForDay(query, date),
      
      // –ü—Ä–æ–º–ø—Ç
      prompt: this.generateForDay(query, date),
      
      // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
      bestTime: this.getBestPostingTime(date.getDay()),
      hashtags: this.getHashtags(query, date)
    });
  }
  
  return {
    month,
    year,
    days,
    summary: this.generateCalendarSummary(days)
  };
}
```

### 14.2 –ü—Ä–∞–∑–¥–Ω–∏–∫–∏ –∏ —Å–æ–±—ã—Ç–∏—è

```typescript
const holidays = {
  // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
  fixed: {
    '01-01': { name: '–ù–æ–≤—ã–π –≥–æ–¥', emoji: 'üéÑ', theme: 'celebration' },
    '01-07': { name: '–†–æ–∂–¥–µ—Å—Ç–≤–æ', emoji: '‚≠ê', theme: 'tradition' },
    '02-14': { name: '–î–µ–Ω—å –≤–ª—é–±–ª—ë–Ω–Ω—ã—Ö', emoji: '‚ù§Ô∏è', theme: 'love' },
    '02-23': { name: '–î–µ–Ω—å –∑–∞—â–∏—Ç–Ω–∏–∫–∞', emoji: 'üéñÔ∏è', theme: 'masculine' },
    '03-08': { name: '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π –∂–µ–Ω—Å–∫–∏–π –¥–µ–Ω—å', emoji: 'üå∑', theme: 'feminine' },
    '05-01': { name: '–î–µ–Ω—å —Ç—Ä—É–¥–∞', emoji: 'üõ†Ô∏è', theme: 'work' },
    '05-09': { name: '–î–µ–Ω—å –ü–æ–±–µ–¥—ã', emoji: 'üéóÔ∏è', theme: 'patriotic' },
    '06-01': { name: '–î–µ–Ω—å –∑–∞—â–∏—Ç—ã –¥–µ—Ç–µ–π', emoji: 'üë∂', theme: 'family' },
    '09-01': { name: '–î–µ–Ω—å –∑–Ω–∞–Ω–∏–π', emoji: 'üìö', theme: 'education' },
    '11-04': { name: '–î–µ–Ω—å –Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–∞', emoji: 'ü§ù', theme: 'unity' },
    '12-31': { name: '–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –Ω–æ—á—å', emoji: 'üéÜ', theme: 'celebration' }
  },
  
  // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤—ã—á–∏—Å–ª—è—é—Ç—Å—è)
  variable: {
    'easter': { name: '–ü–∞—Å—Ö–∞', emoji: 'ü•ö', theme: 'tradition' },
    'blackFriday': { name: '–ß—ë—Ä–Ω–∞—è –ø—è—Ç–Ω–∏—Ü–∞', emoji: 'üè∑Ô∏è', theme: 'sales' },
    'cyberMonday': { name: '–ö–∏–±–µ—Ä–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', emoji: 'üíª', theme: 'sales' }
  },
  
  // –°–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
  seasonal: {
    'summer-start': { name: '–ù–∞—á–∞–ª–æ –ª–µ—Ç–∞', emoji: '‚òÄÔ∏è', theme: 'summer' },
    'back-to-school': { name: '–°–Ω–æ–≤–∞ –≤ —à–∫–æ–ª—É', emoji: 'üéí', theme: 'education' },
    'autumn-vibes': { name: '–û—Å–µ–Ω–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ', emoji: 'üçÇ', theme: 'autumn' }
  }
};
```

---

## 15. Export/Import System

### 15.1 Export —Ñ–æ—Ä–º–∞—Ç—ã

```typescript
// –≠–∫—Å–ø–æ—Ä—Ç –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
exportPrompt(prompt: GeneratedPrompt): ExportedPrompt {
  return {
    version: "6.0",
    generator: "NanoBanana Pro",
    exportDate: new Date().toISOString(),
    
    prompt: {
      id: prompt.id,
      query: prompt.query,
      mainPrompt: prompt.mainPrompt,
      negativePrompt: prompt.negativePrompt,
      
      scores: {
        ctr: prompt.ctrScore,
        viral: prompt.viralScore
      },
      
      psychology: prompt.psychologyTriggers,
      
      blocks: prompt.blocks,
      
      metadata: {
        platform: prompt.platform,
        format: prompt.format,
        style: prompt.style,
        model: prompt.model,
        timestamp: prompt.timestamp
      }
    }
  };
}

// –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏
exportHistory(prompts: GeneratedPrompt[]): ExportedHistory {
  return {
    version: "6.0",
    generator: "NanoBanana Pro",
    exportDate: new Date().toISOString(),
    totalPrompts: prompts.length,
    prompts: prompts.map(p => this.exportPrompt(p).prompt)
  };
}

// –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–∫–∞–¥—Ä–æ–≤–∫–∏
exportStoryboard(storyboard: Storyboard): ExportedStoryboard {
  return {
    version: "6.0",
    type: "storyboard",
    ...storyboard,
    exportDate: new Date().toISOString()
  };
}

// –≠–∫—Å–ø–æ—Ä—Ç –∫–∞–º–ø–∞–Ω–∏–∏
exportCampaign(funnel: FunnelResult): ExportedCampaign {
  return {
    version: "6.0",
    type: "campaign",
    stages: ['awareness', 'interest', 'desire', 'action'],
    ...funnel,
    exportDate: new Date().toISOString()
  };
}
```

### 15.2 Import —Å–∏—Å—Ç–µ–º–∞

```typescript
importJSON(jsonString: string): ImportResult {
  try {
    const data = JSON.parse(jsonString);
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏
    if (!this.isCompatibleVersion(data.version)) {
      return { success: false, error: 'Incompatible version' };
    }
    
    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞
    const type = this.detectImportType(data);
    
    switch (type) {
      case 'prompt':
        return this.importPrompt(data);
      case 'history':
        return this.importHistory(data);
      case 'storyboard':
        return this.importStoryboard(data);
      case 'campaign':
        return this.importCampaign(data);
      case 'brand':
        return this.importBrand(data);
      default:
        return { success: false, error: 'Unknown format' };
    }
  } catch (e) {
    return { success: false, error: 'Invalid JSON' };
  }
}
```

---

## 16. UI Components

### 16.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
App.tsx
‚îú‚îÄ‚îÄ Header
‚îÇ   ‚îú‚îÄ‚îÄ Logo
‚îÇ   ‚îú‚îÄ‚îÄ VersionBadge
‚îÇ   ‚îî‚îÄ‚îÄ ThemeToggle
‚îÇ
‚îú‚îÄ‚îÄ TabNavigation
‚îÇ   ‚îú‚îÄ‚îÄ GeneratorTab (üéØ)
‚îÇ   ‚îú‚îÄ‚îÄ FunnelTab (üìä)
‚îÇ   ‚îú‚îÄ‚îÄ BrandTab (üè¢)
‚îÇ   ‚îú‚îÄ‚îÄ PersonaTab (üé≠)
‚îÇ   ‚îú‚îÄ‚îÄ CalendarTab (üìÖ)
‚îÇ   ‚îú‚îÄ‚îÄ StoryboardTab (üé¨)
‚îÇ   ‚îú‚îÄ‚îÄ CompetitorTab (üïµÔ∏è)
‚îÇ   ‚îú‚îÄ‚îÄ RemixTab (üîÑ)
‚îÇ   ‚îú‚îÄ‚îÄ BatchTab (üì¶)
‚îÇ   ‚îî‚îÄ‚îÄ HistoryTab (üíæ)
‚îÇ
‚îú‚îÄ‚îÄ MainContent
‚îÇ   ‚îú‚îÄ‚îÄ InputSection
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QueryInput
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SettingsPanel
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GenerateButton
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ResultsSection
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromptCard
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ScoreDisplay
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BlocksEditor
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ActionsBar
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ SidePanel
‚îÇ       ‚îú‚îÄ‚îÄ QuickExamples
‚îÇ       ‚îú‚îÄ‚îÄ Tips
‚îÇ       ‚îî‚îÄ‚îÄ Stats
‚îÇ
‚îî‚îÄ‚îÄ Modals
    ‚îú‚îÄ‚îÄ BlockEditorModal
    ‚îú‚îÄ‚îÄ ExportModal
    ‚îú‚îÄ‚îÄ ImportModal
    ‚îî‚îÄ‚îÄ SettingsModal
```

### 16.2 State Management

```typescript
// –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const [state, setState] = useState<AppState>({
  // –í–≤–æ–¥
  query: '',
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  settings: {
    platform: 'instagram',
    format: 'feed',
    style: 'professional',
    model: 'gemini',
    detailLevel: 'detailed',
    mode: 'image',
    language: 'ru',
    variantsCount: 1
  },
  
  // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
  generatedPrompts: [],
  currentPrompt: null,
  
  // –ò—Å—Ç–æ—Ä–∏—è
  history: [],
  favorites: [],
  
  // Brand & Persona
  brands: [],
  personas: [],
  activeBrand: null,
  activePersona: null,
  
  // UI
  activeTab: 'generator',
  isLoading: false,
  isDarkMode: false,
  
  // Modals
  showBlockEditor: false,
  showExport: false,
  editingBlocks: null
});
```

---

## 17. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### 17.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª—è

```typescript
// –í PromptEngine.ts ‚Üí DATABASE.businesses –¥–æ–±–∞–≤–∏—Ç—å:

newBusiness: {
  name: "–ù–∞–∑–≤–∞–Ω–∏–µ",
  nameEn: "Name",
  
  keywords: ["–∫–ª—é—á–µ–≤–æ–µ", "—Å–ª–æ–≤–æ", "keyword"],
  
  contentType: "–æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞",
  visualStyle: "–≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å",
  primaryEmotion: "–æ—Å–Ω–æ–≤–Ω—ã–µ —ç–º–æ—Ü–∏–∏",
  
  targetPain: ["–±–æ–ª—å 1", "–±–æ–ª—å 2"],
  targetDesire: ["–∂–µ–ª–∞–Ω–∏–µ 1", "–∂–µ–ª–∞–Ω–∏–µ 2"],
  
  recommendedTriggers: ["trigger1", "trigger2"],
  
  colors: "paletteKey",
  lighting: "category.type",
  composition: "compositionKey",
  camera: "cameraKey",
  
  cta: {
    primary: "–û–°–ù–û–í–ù–û–ô CTA",
    alternatives: ["–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1", "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2"]
  },
  
  hooks: ["hook1", "hook2", "hook3"]
}
```

### 17.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞

```typescript
// –í DATABASE.psychology –¥–æ–±–∞–≤–∏—Ç—å:

newTrigger: {
  name: "Trigger Name",
  nameRu: "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞",
  
  effectiveness: 0.85, // 0-1
  
  visualElements: [
    "—ç–ª–µ–º–µ–Ω—Ç 1",
    "—ç–ª–µ–º–µ–Ω—Ç 2"
  ],
  
  textPatterns: [
    "–ü–∞—Ç—Ç–µ—Ä–Ω —Å {–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π}",
    "–ï—â—ë –ø–∞—Ç—Ç–µ—Ä–Ω"
  ],
  
  emotionalHook: "–æ–ø–∏—Å–∞–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞",
  
  colorRecommendation: "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ —Ü–≤–µ—Ç–∞–º",
  
  bestFor: ["–Ω–∏—à–∞1", "–Ω–∏—à–∞2"]
}
```

### 17.3 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

```typescript
// –í DATABASE.platforms –¥–æ–±–∞–≤–∏—Ç—å:

newPlatform: {
  name: "Platform Name",
  
  formats: {
    format1: {
      name: "Format Name",
      width: 1080,
      height: 1080,
      aspectRatio: "1:1"
    }
  },
  
  bestPractices: [
    "–ø—Ä–∞–∫—Ç–∏–∫–∞ 1",
    "–ø—Ä–∞–∫—Ç–∏–∫–∞ 2"
  ],
  
  limitations: {
    textLimit: 2200,
    hashtagLimit: 30
  },
  
  audienceTraits: {
    primaryAge: "18-34",
    peakTimes: ["12:00", "19:00", "21:00"]
  }
}
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ FAQ –≤ README.md
2. –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –∫–æ–¥–µ
3. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è v6.0 | NanoBanana Pro Team | 2026**
